{
  "name": "Personal Discipline Course - Daily Check-in",
  "nodes": [
    {
      "parameters": {
        "cronExpression": "0 7 * * *",
        "cronTimeZone": "Asia/Tokyo"
      },
      "name": "Daily 07:00 Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1,
      "position": [240, 200]
    },
    {
      "parameters": {
        "text": "早安！今天的自律任務：1) 跑步 30 分鐘 2) 拉伸 10 分鐘 3) 記錄訓練日誌。請回覆完成/未完成。",
        "chatId": "@your_telegram_chat_id"
      },
      "name": "Send Morning Prompt (Telegram)",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1,
      "position": [460, 200]
    },
    {
      "parameters": {
        "workflowId": "",
        "httpMethod": "POST",
        "path": "telegram-webhook",
        "responseMode": "lastNode",
        "responseData": "allEntries"
      },
      "name": "Receive Reply (Webhook)",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [240, 400]
    },
    {
      "parameters": {
        "functionCode": "// 解析 telegram 回覆，簡易判斷是否完成\nconst text = items[0].json.message?.text || items[0].json.body?.text || '';\nconst done = /完成|done|ok|yes|y/i.test(text);\nreturn [{ json: { text, done } }];"
      },
      "name": "Parse Reply",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [460, 400]
    },
    {
      "parameters": {
        "sheetId": "your_google_sheet_id",
        "range": "Sheet1!A:C",
        "valueInputMode": "USER_ENTERED",
        "options": {},
        "dataPropertyName": "data"
      },
      "name": "Append to Google Sheets",
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 1,
      "position": [700, 400]
    }
  ],
  "connections": {
    "Daily 07:00 Trigger": { "main": [[{ "node": "Send Morning Prompt (Telegram)", "type": "main", "index": 0 }]] },
    "Receive Reply (Webhook)": { "main": [[{ "node": "Parse Reply", "type": "main", "index": 0 }]] },
    "Parse Reply": { "main": [[{ "node": "Append to Google Sheets", "type": "main", "index": 0 }]] }
  },
  "active": false,
  "settings": {}
}