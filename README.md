# ğŸŒ¸ å¯Œå£«æ«»èŠ±è·¯è·‘ Fuji Sakura Run

<div align="center">
  <img src="https://images.unsplash.com/photo-1522383225653-ed111181a951?q=80&w=2076&auto=format&fit=crop" alt="Sakura" width="100%" height="300" style="object-fit: cover; border-radius: 10px;"/>
  
  <h3>ã€Œçµ‚é»ä¸æœƒé€ƒèµ°ï¼Œåªæœ‰å¿ƒæœƒé€€ç¸®ã€</h3>
  <p>å°ˆç‚ºæ«»èŠ±å­£æ‰“é€ çš„ç·šä¸Šè·¯è·‘æ´»å‹•å¹³å°</p>
</div>

---

## ğŸ“‹ ç›®éŒ„

- [å°ˆæ¡ˆç°¡ä»‹](#å°ˆæ¡ˆç°¡ä»‹)
- [åŠŸèƒ½ç‰¹è‰²](#åŠŸèƒ½ç‰¹è‰²)
- [æŠ€è¡“æ¶æ§‹](#æŠ€è¡“æ¶æ§‹)
- [å°ˆæ¡ˆçµæ§‹](#å°ˆæ¡ˆçµæ§‹)
- [å®‰è£èˆ‡åŸ·è¡Œ](#å®‰è£èˆ‡åŸ·è¡Œ)
- [æ¸¬è©¦](#æ¸¬è©¦)
- [API æ–‡æª”](#api-æ–‡æª”)
- [é—œæ–¼ n8n è‡ªå‹•åŒ–](#é—œæ–¼-n8n-è‡ªå‹•åŒ–)

---

## ğŸ¯ å°ˆæ¡ˆç°¡ä»‹

**å¯Œå£«æ«»èŠ±è·¯è·‘**æ˜¯ä¸€å€‹çµåˆæ«»èŠ±å­£ç¯€èˆ‡è·‘æ­¥é‹å‹•çš„ç·šä¸Šæ´»å‹•å¹³å°ã€‚æ­¤å°ˆæ¡ˆæ¡ç”¨**å®Œæ•´å‰å¾Œç«¯åˆ†é›¢æ¶æ§‹**ï¼Œæä¾›ç”¨æˆ¶è¿½è¹¤è·‘æ­¥è¨˜éŒ„ã€æ¢ç´¢æ«»èŠ±è·¯ç·šã€åƒèˆ‡ç¤¾ç¾¤äº’å‹•ç­‰åŠŸèƒ½ã€‚

### ä¸»è¦ç›®æ¨™
- ğŸƒ è¨˜éŒ„å’Œè¿½è¹¤å€‹äººè·‘æ­¥æ•¸æ“š
- ğŸ—ºï¸ ç™¼æ˜å°ç£å„åœ°çš„æ«»èŠ±è·¯ç·š
- ğŸ‘¥ å»ºç«‹è·‘æ­¥æ„›å¥½è€…ç¤¾ç¾¤
- ğŸ“Š æä¾›æ•¸æ“šå¯è¦–åŒ–èˆ‡çµ±è¨ˆåˆ†æ
- ğŸ–ï¸ æ¿€å‹µç³»çµ±ï¼ˆç©åˆ†ã€å¾½ç« ã€æ‰“å¡ï¼‰
- ğŸ¤– AI é©…å‹•çš„å€‹äººåŒ–é¼“å‹µèªç”Ÿæˆ

---

## âœ¨ åŠŸèƒ½ç‰¹è‰²

### ğŸ  é¦–é åŠŸèƒ½
- **Hero å€å¡Š**ï¼šå±•ç¤ºè³½äº‹è³‡è¨Šèˆ‡çç‰Œä»‹ç´¹
- **å ±åæµç¨‹**ï¼šæ¸…æ™°çš„å››æ­¥é©Ÿå ±åæŒ‡å¼•
- **çŸ¥è­˜å°ˆå€**ï¼šè·‘æ­¥è¨“ç·´æŒ‡å—ã€å¥åº·çŸ¥è­˜
- **è·¯ç·šåœ°åœ–**ï¼šå°ç£å„åœ°æ«»èŠ±è·¯ç·šæ¨è–¦èˆ‡ GPX ä¸‹è¼‰
- **ç¤¾ç¾¤ç•™è¨€æ¿**ï¼šè·‘å‹åˆ†äº«èˆ‡äº’å‹•

### ğŸ‘¤ å€‹äººå°ˆå€ (è‡ªå¾‹è¡¨ Dashboard)
- **è·‘æ­¥ç´€éŒ„**ï¼šæŸ¥çœ‹æ­·å²è·‘æ­¥æ•¸æ“šèˆ‡è¨“ç·´æ­·ç¨‹
- **çµ±è¨ˆåˆ†æ**ï¼š
  - ç´¯ç©é‡Œç¨‹æ•¸
  - é‹å‹•æ™‚æ•¸çµ±è¨ˆ
  - è§£é–å¾½ç« æ•¸é‡
- **æ¯æ—¥æ‰“å¡ç³»çµ±**ï¼š
  - ç²å–æ«»èŠ±ç©åˆ†
  - è¦–è¦ºåŒ–æœˆæ›†é¡¯ç¤ºæ‰“å¡å¤©æ•¸
  - è™›æ“¬å¯Œå£«å±±æ”€ç™»é€²åº¦
- **AI å½±ç‰‡ç”Ÿæˆ**ï¼š
  - ä½¿ç”¨ Google Gemini AI ç”Ÿæˆå€‹äººåŒ–é¼“å‹µèª
  - åŸºæ–¼ç”¨æˆ¶æ•¸æ“šçš„è©©æ„æ–‡å­—å‰µä½œ
  - æ¨¡æ“¬å½±ç‰‡è£½ä½œæµç¨‹
- **è¨“ç·´æ­·ç¨‹å¯è¦–åŒ–**ï¼š
  - æ¯æ¬¡è·‘æ­¥çš„è©³ç´°è¨˜éŒ„
  - è·¯ç·šã€è·é›¢ã€æ™‚é–“è¿½è¹¤
  - é€²åº¦è¶¨å‹¢åœ–è¡¨

### ğŸŒ ç¤¾ç¾¤åŠŸèƒ½
- ç™¼ä½ˆè·¯è·‘å¿ƒå¾—
- æŸ¥çœ‹å…¶ä»–è·‘è€…åˆ†äº«
- è©•è«–èˆ‡äº’å‹•

---

## ğŸ› ï¸ æŠ€è¡“æ¶æ§‹

### å‰ç«¯æŠ€è¡“æ£§
- **æ¡†æ¶**: React 18.3.1 + TypeScript 5.3.0
- **ç‹€æ…‹ç®¡ç†**: React Hooks (useState, useEffect, Context API)
- **æ¨£å¼**: Tailwind CSS 3.4
- **åœ–æ¨™**: Lucide React 0.563.0
- **AI æ•´åˆ**: Google Generative AI (@google/generative-ai 0.24.1)
- **HTTP å®¢æˆ¶ç«¯**: Fetch API
- **å»ºæ§‹å·¥å…·**: Vite 7.3.1
- **æ¸¬è©¦æ¡†æ¶**: Jest 29.7.0 + React Testing Library 14.0.0

### å¾Œç«¯æŠ€è¡“æ£§
- **æ¡†æ¶**: FastAPI (Python 3.9+)
- **ASGI ä¼ºæœå™¨**: Uvicorn
- **æ•¸æ“šé©—è­‰**: Pydantic
- **å¯†ç¢¼åŠ å¯†**: Hashlib (SHA-256)
- **CORS è™•ç†**: FastAPI CORS Middleware
- **æ¸¬è©¦æ¡†æ¶**: Pytest

### è³‡æ–™åº«
- **é–‹ç™¼ç’°å¢ƒ**: å…§å­˜æ•¸æ“šåº« (Python Dictionary)
- **ç”Ÿç”¢ç’°å¢ƒ**: å¯æ“´å±•è‡³ PostgreSQL / MongoDB

### AI åŠŸèƒ½
- **Google Gemini API**: ç”Ÿæˆå€‹äººåŒ–è·‘æ­¥é¼“å‹µèª
- **æ¨¡å‹**: gemini-pro
- **æ‡‰ç”¨å ´æ™¯**: æ ¹æ“šç”¨æˆ¶ç´¯ç©é‡Œç¨‹ã€æ‰“å¡å¤©æ•¸ã€è¨“ç·´ç´€éŒ„ç”Ÿæˆå¯Œæœ‰è©©æ„çš„æ¿€å‹µæ–‡å­—

---

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
fuji_sakura_run/
â”‚
â”œâ”€â”€ backend/                     # å¾Œç«¯ FastAPI å°ˆæ¡ˆ
â”‚   â”œâ”€â”€ main.py                  # API è·¯ç”±å®šç¾©
â”‚   â”œâ”€â”€ models.py                # Pydantic æ•¸æ“šæ¨¡å‹
â”‚   â”œâ”€â”€ database.py              # æ•¸æ“šåº«æ“ä½œ
â”‚   â”œâ”€â”€ test_main.py             # å¾Œç«¯æ¸¬è©¦
â”‚   â”œâ”€â”€ requirements.txt         # Python ä¾è³´
â”‚   â””â”€â”€ README.md                # å¾Œç«¯èªªæ˜
â”‚
â”œâ”€â”€ src/                         # å‰ç«¯ React å°ˆæ¡ˆ
â”‚   â”œâ”€â”€ components/              # React çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx        # å€‹äººæ•¸æ“šé¢æ¿ï¼ˆè‡ªå¾‹è¡¨ï¼‰
â”‚   â”‚   â”œâ”€â”€ SakuraFalling.tsx    # æ«»èŠ±é£„è½å‹•ç•«
â”‚   â”‚   â”œâ”€â”€ Header.tsx           # å°èˆªæ¬„
â”‚   â”‚   â”œâ”€â”€ Hero.tsx             # é¦–é è‹±é›„å€å¡Š
â”‚   â”‚   â”œâ”€â”€ Comments.tsx         # ç•™è¨€æ¿
â”‚   â”‚   â”œâ”€â”€ Community.tsx        # ç¤¾ç¾¤é é¢
â”‚   â”‚   â”œâ”€â”€ SakuraRoutes.tsx     # æ«»èŠ±è·¯ç·šåœ°åœ–
â”‚   â”‚   â”œâ”€â”€ GPSTracker.tsx       # GPS è¿½è¹¤å™¨
â”‚   â”‚   â”œâ”€â”€ MtFujiGuide.tsx      # å¯Œå£«å±±è¨“ç·´æŒ‡å—
â”‚   â”‚   â””â”€â”€ RunningKnowledge.tsx # è·‘æ­¥çŸ¥è­˜
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                # API æœå‹™å±¤
â”‚   â”‚   â”œâ”€â”€ api.ts               # å¾Œç«¯ API é€šè¨Š
â”‚   â”‚   â””â”€â”€ api.test.ts          # API æ¸¬è©¦
â”‚   â”‚
â”‚   â”œâ”€â”€ store/                   # å…¨å±€ç‹€æ…‹ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ UserContext.tsx      # ç”¨æˆ¶ç‹€æ…‹
â”‚   â”‚   â”œâ”€â”€ RunContext.tsx       # è·‘æ­¥è¨˜éŒ„ç‹€æ…‹
â”‚   â”‚   â””â”€â”€ CommunityContext.tsx # ç¤¾ç¾¤ç‹€æ…‹
â”‚   â”‚
â”‚   â”œâ”€â”€ types/                   # TypeScript é¡å‹å®šç¾©
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ constants/               # å¸¸é‡é…ç½®
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ App.tsx                  # ä¸»æ‡‰ç”¨çµ„ä»¶
â”‚   â”œâ”€â”€ index.tsx                # React å…¥å£
â”‚   â””â”€â”€ index.css                # å…¨å±€æ¨£å¼
â”‚
â”œâ”€â”€ package.json                 # NPM é…ç½®
â”œâ”€â”€ tsconfig.json                # TypeScript é…ç½®
â”œâ”€â”€ vite.config.ts               # Vite é…ç½®
â”œâ”€â”€ jest.config.ts               # Jest æ¸¬è©¦é…ç½®
â”œâ”€â”€ tailwind.config.cjs          # Tailwind é…ç½®
â””â”€â”€ README.md                    # å°ˆæ¡ˆèªªæ˜ï¼ˆæœ¬æ–‡ä»¶ï¼‰
```

---

## ğŸš€ å®‰è£èˆ‡åŸ·è¡Œ

### å‰ç½®éœ€æ±‚
- Node.js 18+ 
- Python 3.9+
- npm æˆ– yarn

### 1. å®‰è£å‰ç«¯ä¾è³´

```bash
npm install
```

### 2. è¨­å®šç’°å¢ƒè®Šæ•¸

å‰µå»º `.env` æ–‡ä»¶ï¼š

```bash
# Google Generative AI API Key (é¸å¡«ï¼Œç”¨æ–¼ AI é¼“å‹µèªç”Ÿæˆ)
VITE_GENAI_API_KEY=your_google_genai_api_key_here

# å¾Œç«¯ API URL
VITE_API_BASE_URL=http://localhost:8000
```

**ç²å– Google AI API Key**ï¼š
1. å‰å¾€ [Google AI Studio](https://makersuite.google.com/app/apikey)
2. å‰µå»ºæ–°çš„ API Key
3. è¤‡è£½ä¸¦è²¼åˆ° `.env` æ–‡ä»¶ä¸­

### 3. å®‰è£å¾Œç«¯ä¾è³´

```bash
cd backend
pip install -r requirements.txt
```

### 4. å•Ÿå‹•é–‹ç™¼ç’°å¢ƒ

**æ–¹æ³•ä¸€ï¼šä½¿ç”¨è…³æœ¬ï¼ˆæ¨è–¦ï¼‰**

Windows:
```bash
start.bat
```

Mac/Linux:
```bash
chmod +x start.sh
./start.sh
```

**æ–¹æ³•äºŒï¼šæ‰‹å‹•å•Ÿå‹•**

çµ‚ç«¯ 1 - å•Ÿå‹•å‰ç«¯:
```bash
npm run dev
```

çµ‚ç«¯ 2 - å•Ÿå‹•å¾Œç«¯:
```bash
npm run backend
# æˆ–
cd backend
python -m uvicorn main:app --reload
```

### 5. è¨ªå•æ‡‰ç”¨

- å‰ç«¯ï¼šhttp://localhost:5173
- å¾Œç«¯ APIï¼šhttp://localhost:8000
- API æ–‡æª”ï¼šhttp://localhost:8000/docs

---

## ğŸ§ª æ¸¬è©¦

### å‰ç«¯æ¸¬è©¦

```bash
# é‹è¡Œæ‰€æœ‰æ¸¬è©¦
npm test

# é‹è¡Œç‰¹å®šæ¸¬è©¦æ–‡ä»¶
npm test Dashboard.test.tsx

# æ¸¬è©¦è¦†è“‹ç‡
npm test -- --coverage
```

**æ¸¬è©¦æ–‡ä»¶**ï¼š
- `src/components/Dashboard.test.tsx` - Dashboard çµ„ä»¶æ¸¬è©¦
- `src/components/SakuraFalling.test.tsx` - å‹•ç•«çµ„ä»¶æ¸¬è©¦
- `src/services/api.test.ts` - API æœå‹™æ¸¬è©¦

### å¾Œç«¯æ¸¬è©¦

```bash
cd backend

# å®‰è£æ¸¬è©¦ä¾è³´
pip install pytest pytest-cov

# é‹è¡Œæ¸¬è©¦
pytest

# æ¸¬è©¦è¦†è“‹ç‡
pytest --cov=. --cov-report=html
```

**æ¸¬è©¦æ–‡ä»¶**ï¼š
- `backend/test_main.py` - API ç«¯é»æ¸¬è©¦

---

## ğŸ“¡ API æ–‡æª”

### ç”¨æˆ¶ç›¸é—œ

#### ç”¨æˆ¶è¨»å†Š
```http
POST /api/users/register
Content-Type: application/json

{
  "name": "è·‘è€…åç¨±",
  "email": "user@example.com",
  "password": "secure_password"
}
```

#### ç”¨æˆ¶ç™»å…¥
```http
POST /api/users/login
Content-Type: application/json

{
  "email": "user@example.com",
  "password": "secure_password"
}
```

#### ç²å–ç”¨æˆ¶è³‡æ–™
```http
GET /api/users/profile
Authorization: Bearer <token>
```

### è·‘æ­¥è¨˜éŒ„ç›¸é—œ

#### ç²å–ç”¨æˆ¶è·‘æ­¥è¨˜éŒ„
```http
GET /api/runs?userId=<user_id>
Authorization: Bearer <token>
```

#### æ–°å¢è·‘æ­¥è¨˜éŒ„
```http
POST /api/runs
Authorization: Bearer <token>
Content-Type: application/json

{
  "userId": "user_123",
  "date": "2026-02-21",
  "distance": 5.2,
  "time": "30:00",
  "route": "æ·¡æ°´æ²³æ¿±",
  "type": "è¨“ç·´",
  "location": "æ–°åŒ—å¸‚æ·¡æ°´å€"
}
```

#### åˆªé™¤è·‘æ­¥è¨˜éŒ„
```http
DELETE /api/runs/<run_id>
Authorization: Bearer <token>
```

### è©•è«–ç›¸é—œ

#### ç²å–æ‰€æœ‰è©•è«–
```http
GET /api/comments
```

#### æ–°å¢è©•è«–
```http
POST /api/comments
Content-Type: application/json

{
  "author": "è·‘è€…åç¨±",
  "content": "ä»Šå¤©è·‘å¾—å¾ˆé–‹å¿ƒï¼",
  "userId": "user_123"
}
```

### è·¯ç·šç›¸é—œ

#### ç²å–æ‰€æœ‰æ«»èŠ±è·¯ç·š
```http
GET /api/routes
```

#### ç²å–ç‰¹å®šè·¯ç·š
```http
GET /api/routes/<route_id>
```

### çµ±è¨ˆç›¸é—œ

#### ç²å–ç”¨æˆ¶çµ±è¨ˆæ•¸æ“š
```http
GET /api/stats/<user_id>
Authorization: Bearer <token>
```

å®Œæ•´ API æ–‡æª”è«‹è¨ªå•ï¼šhttp://localhost:8000/docs (FastAPI è‡ªå‹•ç”Ÿæˆ)

---

## ğŸ¤– é—œæ–¼ n8n è‡ªå‹•åŒ–

### åŸå§‹è¦åŠƒ

æœ¬å°ˆæ¡ˆæœ€åˆè¦åŠƒæ•´åˆ **n8n** å·¥ä½œæµç¨‹è‡ªå‹•åŒ–å¹³å°ï¼Œè¨ˆåŠƒå¯¦ç¾ä»¥ä¸‹åŠŸèƒ½ï¼š

1. **æ—¥å¹£åŒ¯ç‡ç›£æ§**
   - æ¯æ—¥è‡ªå‹•æª¢æŸ¥ JPY â†’ TWD åŒ¯ç‡
   - ä½æ–¼é–€æª»æ™‚ç™¼é€ Telegram/Line é€šçŸ¥
   - å¹«åŠ©è¨ˆåŠƒåƒåŠ æ—¥æœ¬é¦¬æ‹‰æ¾çš„è·‘è€…

2. **å¯Œå£«å±±å¤©æ°£é å ±**
   - å®šæœŸç²å–å¯Œå£«å±±å‘¨é‚Šå¤©æ°£
   - é¡¯ç¤ºæº«åº¦ã€é™é›¨æ©Ÿç‡ã€é¢¨é€Ÿ
   - æ¨é€å¤©æ°£è­¦å ±

3. **è¨“ç·´è¨˜éŒ„åŒæ­¥**
   - Strava Webhook è§¸ç™¼
   - åŒæ­¥æ´»å‹•åˆ° Notion / Google Sheets
   - Google Gemini ç”Ÿæˆå€‹äººåŒ–é¼“å‹µèª

4. **è³½äº‹å®˜ç¶²ç›£æ¸¬**
   - å®šæœŸæª¢æŸ¥å¯Œå£«å±±é¦¬æ‹‰æ¾å®˜ç¶²æ›´æ–°
   - è‡ªå‹•é€šçŸ¥å ±åé–‹æ”¾æ™‚é–“

5. **è‡ªå‹•æ‰“åŒ…æ¸…å–®æé†’**
   - è³½å‰è‡ªå‹•ç™¼é€è£å‚™æª¢æŸ¥æ¸…å–®
   - æ•´åˆåˆ°å¾…è¾¦äº‹é …æ‡‰ç”¨

### ç•¶å‰ç‹€æ…‹

**n8n åŠŸèƒ½å·²å¾ä¸»å°ˆæ¡ˆç§»é™¤**ï¼ŒåŸå› å¦‚ä¸‹ï¼š

1. **ç°¡åŒ–æ¶æ§‹**ï¼šç‚ºäº†ä¿æŒå°ˆæ¡ˆçš„è¼•é‡åŒ–å’Œæ˜“ç¶­è­·æ€§
2. **å‰å¾Œç«¯åˆ†é›¢**ï¼šå°ˆæ³¨æ–¼æ ¸å¿ƒçš„è·‘æ­¥è¿½è¹¤å’Œç¤¾ç¾¤åŠŸèƒ½
3. **é™ä½ä¾è³´**ï¼šæ¸›å°‘å¤–éƒ¨æœå‹™ä¾è³´ï¼Œæé«˜ç©©å®šæ€§
4. **ç¨ç«‹éƒ¨ç½²**ï¼šn8n éœ€è¦é¡å¤–çš„ä¼ºæœå™¨è³‡æºå’Œé…ç½®

### AI åŠŸèƒ½ä¿ç•™

é›–ç„¶ç§»é™¤äº† n8n æ•´åˆï¼Œä½†æˆ‘å€‘ä¿ç•™äº†æ ¸å¿ƒçš„ AI åŠŸèƒ½ï¼š
- âœ… **Google Gemini AI** ç›´æ¥æ•´åˆåˆ° Dashboard
- âœ… æ ¹æ“šç”¨æˆ¶æ•¸æ“šç”Ÿæˆå€‹äººåŒ–é¼“å‹µèª
- âœ… ç„¡éœ€é¡å¤–é…ç½® n8n æœå‹™

### å¦‚éœ€ n8n åŠŸèƒ½

å¦‚æœæ‚¨æƒ³è¦ä½¿ç”¨åŸæœ¬è¦åŠƒçš„ n8n è‡ªå‹•åŒ–åŠŸèƒ½ï¼Œå¯ä»¥ï¼š

1. ç¨ç«‹éƒ¨ç½² n8n æœå‹™ï¼š
   ```bash
   docker run -it --rm --name n8n -p 5678:5678 n8nio/n8n
   ```

2. æ‰‹å‹•å‰µå»ºå·¥ä½œæµç¨‹ï¼š
   - åŒ¯ç‡ç›£æ§ï¼šä½¿ç”¨ ExchangeRate-API
   - å¤©æ°£é å ±ï¼šä½¿ç”¨ OpenWeatherMap API
   - Strava åŒæ­¥ï¼šè¨­å®š Strava Webhook

3. åƒè€ƒ `STRUCTURE.md` ä¸­çš„ n8n ç« ç¯€ï¼ˆå¦‚å­˜åœ¨ï¼‰

---

## ğŸ¨ ç‰¹è‰²è¨­è¨ˆ

### UI/UX è¨­è¨ˆç†å¿µ
- **æ—¥å¼ç¾å­¸**ï¼šæ«»èŠ±ã€å¯Œå£«å±±è¦–è¦ºå…ƒç´ 
- **æ‰å¹³åŒ–è¨­è¨ˆ**ï¼šç¾ä»£ç°¡ç´„é¢¨æ ¼
- **éŸ¿æ‡‰å¼ä½ˆå±€**ï¼šå®Œç¾æ”¯æ´æ‰‹æ©Ÿã€å¹³æ¿ã€æ¡Œé¢
- **å‹•ç•«æ•ˆæœ**ï¼šæ«»èŠ±é£„è½ã€å¹³æ»‘éæ¸¡

### æ•¸æ“šæŒä¹…åŒ–
- LocalStorageï¼šç”¨æˆ¶ç™»å…¥ç‹€æ…‹ã€æ‰“å¡è¨˜éŒ„ã€ç´¯ç©é‡Œç¨‹
- å¾Œç«¯æ•¸æ“šåº«ï¼šå®Œæ•´è·‘æ­¥è¨˜éŒ„ã€ç”¨æˆ¶è³‡æ–™ã€ç¤¾ç¾¤äº’å‹•

### å®‰å…¨æ€§
- å¯†ç¢¼å“ˆå¸Œï¼šSHA-256 åŠ å¯†
- Token é©—è­‰ï¼šBearer Token æ©Ÿåˆ¶
- CORS é…ç½®ï¼šé™åˆ¶å‰ç«¯è¨ªå•ä¾†æº

---

## ğŸ”® æœªä¾†è¦åŠƒ

- [ ] æ•´åˆçœŸå¯¦æ•¸æ“šåº«ï¼ˆPostgreSQLï¼‰
- [ ] JWT Token å®Œæ•´å¯¦ç¾
- [ ] GPS å³æ™‚è¿½è¹¤åŠŸèƒ½
- [ ] ç¤¾ç¾¤äº’å‹•å¢å¼·ï¼ˆæŒ‰è®šã€è¿½è¹¤ï¼‰
- [ ] æ’è¡Œæ¦œç³»çµ±
- [ ] å¯¦é«”çç‰Œå…Œæ›æµç¨‹
- [ ] æ‰‹æ©Ÿ App ç‰ˆæœ¬
- [ ] Strava å®˜æ–¹ API æ•´åˆ

---

## ğŸ“ æˆæ¬Š

MIT License

---

## ğŸ™ è‡´è¬

- æ«»èŠ±åœ–ç‰‡ä¾†æºï¼šUnsplash
- åœ–æ¨™åº«ï¼šLucide React
- AI æŠ€è¡“ï¼šGoogle Gemini

---

## ğŸ“§ è¯çµ¡æ–¹å¼

å¦‚æœ‰å•é¡Œæˆ–å»ºè­°ï¼Œæ­¡è¿è¯ç¹«ï¼š
- Email: contact@fujisakurarun.com
- GitHub Issues: [Project Issues](https://github.com/yourusername/fuji-sakura-run/issues)

**ã€Œçµ‚é»ä¸æœƒé€ƒèµ°ï¼Œåªæœ‰å¿ƒæœƒé€€ç¸®ã€- è®“æˆ‘å€‘ä¸€èµ·è·‘å‘å¯Œå£«å±±é ‚ï¼** ğŸƒâ€â™‚ï¸ğŸŒ¸ğŸ—»
- **è³½äº‹å®˜ç¶²ç›£æ¸¬**ï¼šé€±æœŸæŠ“å–è³½äº‹å®˜ç¶²å…¬å‘Šï¼Œè‹¥æœ‰æ–°è¨Šæ¯å‰‡å»ºç«‹é€šçŸ¥ï¼æ¨æ’­ï¼Œä¸¦åœ¨å‰ç«¯é¡¯ç¤ºæ¨™é¡Œèˆ‡é€£çµã€‚
- **æ‰“åŒ…æ¸…å–®æé†’**ï¼šå¯æ‰‹å‹•å»ºç«‹æˆ–åœ¨è³½å‰ (ç¯„ä¾‹ 3 å¤©) è‡ªå‹•è¤‡è£½æ‰“åŒ…æ¸…å–®åˆ° Todoistï¼ˆæˆ–å…¶ä»–å¾…è¾¦æœå‹™ï¼‰ã€‚
- **é€£ç·šæª¢æŸ¥èˆ‡éŒ¯èª¤å›é€€**ï¼šå‰ç«¯æœƒå‘¼å« n8n é€£ç·šæª¢æŸ¥ï¼ˆè‹¥æœªé€£ç·šï¼ŒUI æœƒåˆ‡æ›ç‚ºæ¨¡æ“¬è³‡æ–™é¡¯ç¤ºï¼‰ã€‚

### ğŸ§© å‰ç«¯æ•´åˆï¼ˆå‘¼å«é»èˆ‡å‡½å¼ï¼‰
- **å…ƒä»¶**: [src/components/components/N8nIntegration.tsx](src/components/components/N8nIntegration.tsx#L1-L400)
- **æœå‹™**: [src/services/n8nService.ts](src/services/n8nService.ts#L1-L200)
- **å‰ç«¯å¯å‘¼å«çš„ä¸»è¦å‡½å¼**ï¼ˆåœ¨ `n8nService` ä¸­ï¼‰ï¼š
  - `testN8nConnection()` â€” æª¢æŸ¥ n8n æœå‹™æ˜¯å¦å¯ç”¨
  - `triggerExchangeRateCheck()` â€” è§¸ç™¼åŒ¯ç‡æª¢æŸ¥
  - `triggerWeatherCheck()` â€” è§¸ç™¼å¤©æ°£æª¢æŸ¥
  - `getLatestTrainingLogs()` â€” å–å¾—æœ€è¿‘è¨“ç·´è¨˜éŒ„
  - `getEventNotifications()` â€” å–å¾—è³½äº‹é€šçŸ¥åˆ—è¡¨
  - `triggerPackingListReminder(eventDate)` â€” å»ºç«‹ / è§¸ç™¼æ‰“åŒ…æ¸…å–®æé†’

### âš™ï¸ åœ¨å‰ç«¯çš„ä½¿ç”¨æƒ…å¢ƒ
- ä½¿ç”¨è€…å¯åœ¨ UI ä¸Šæ‰‹å‹•æŒ‰éˆ•è§¸ç™¼åŒ¯ç‡æˆ–å¤©æ°£æª¢æŸ¥ï¼›
- è¨“ç·´è¨˜éŒ„èˆ‡è³½äº‹é€šçŸ¥å¯åœ¨å…ƒä»¶ä¸­è¼‰å…¥ä¸¦é¡¯ç¤ºï¼ˆå«åˆ†é æˆ–æœ€è¿‘ N ç­†ï¼‰ï¼›
- ç•¶ n8n å·¥ä½œæµç¨‹åŸ·è¡Œæ™‚ï¼Œå¯é€é Webhook æˆ– API å°‡çµæœå›å‚³åˆ°å¾Œç«¯æˆ–å‰ç«¯é¡¯ç¤ºã€‚

è©³ç´°çš„ n8n å·¥ä½œæµç¨‹èˆ‡åŒ¯å…¥æ­¥é©Ÿè«‹åƒè€ƒï¼š [.n8n/README_n8n_workflows.md](.n8n/README_n8n_workflows.md)

---

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
fuji_sakura_run/
â”œâ”€â”€ backend/                      # å¾Œç«¯ Python å°ˆæ¡ˆ
â”‚   â”œâ”€â”€ main.py                   # FastAPI ä¸»ç¨‹å¼
â”‚   â”œâ”€â”€ models.py                 # Pydantic æ•¸æ“šæ¨¡å‹
â”‚   â”œâ”€â”€ database.py               # æ•¸æ“šåº«æ“ä½œ
â”‚   â”œâ”€â”€ requirements.txt          # Python ä¾è³´
â”‚   â””â”€â”€ .env.example              # ç’°å¢ƒè®Šé‡ç¤ºä¾‹
â”‚
â”œâ”€â”€ src/                          # å‰ç«¯ React å°ˆæ¡ˆ
â”‚   â”œâ”€â”€ components/               # React å…ƒä»¶
â”‚   â”‚   â””â”€â”€ components/           # å…·é«”åŠŸèƒ½å…ƒä»¶
â”‚   â”‚       â”œâ”€â”€ Header.tsx        # å°èˆªæ¬„
â”‚   â”‚       â”œâ”€â”€ Hero.tsx          # é¦–é  Hero
â”‚   â”‚       â”œâ”€â”€ Dashboard.tsx     # å€‹äººå°ˆå€
â”‚   â”‚       â”œâ”€â”€ Comments.tsx      # ç•™è¨€æ¿
â”‚   â”‚       â”œâ”€â”€ Community.tsx     # ç¤¾ç¾¤é é¢
â”‚   â”‚       â”œâ”€â”€ SakuraRoutes.tsx  # è·¯ç·šåœ°åœ–
â”‚   â”‚       â”œâ”€â”€ GPSTracker.tsx    # GPS è¿½è¹¤
â”‚   â”‚       â”œâ”€â”€ MtFujiGuide.tsx   # å¯Œå£«å±±æŒ‡å—
â”‚   â”‚       â””â”€â”€ SakuraFalling.tsx # æ«»èŠ±é£„è½å‹•ç•«
â”‚   â”‚
â”‚   â”œâ”€â”€ store/                    # ç‹€æ…‹ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ index.ts              # Store çµ±ä¸€å°å‡º
â”‚   â”‚   â”œâ”€â”€ UserContext.tsx       # ç”¨æˆ¶ç‹€æ…‹
â”‚   â”‚   â”œâ”€â”€ RunContext.tsx        # è·‘æ­¥è¨˜éŒ„ç‹€æ…‹
â”‚   â”‚   â””â”€â”€ CommunityContext.tsx  # ç¤¾ç¾¤ç‹€æ…‹
â”‚   â”‚
â”‚   â”œâ”€â”€ types/                    # TypeScript é¡å‹å®šç¾©
â”‚   â”‚   â””â”€â”€ index.ts              # æ‰€æœ‰é¡å‹å®šç¾©
â”‚   â”‚
â”‚   â”œâ”€â”€ constants/                # å¸¸é‡é…ç½®
â”‚   â”‚   â””â”€â”€ index.ts              # æ‡‰ç”¨å¸¸é‡
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                 # API æœå‹™
â”‚   â”‚   â””â”€â”€ api.ts                # API è«‹æ±‚å°è£
â”‚   â”‚
â”‚   â”œâ”€â”€ App.tsx                   # ä¸»æ‡‰ç”¨å…ƒä»¶
â”‚   â”œâ”€â”€ index.tsx                 # æ‡‰ç”¨å…¥å£
â”‚   â””â”€â”€ index.css                 # å…¨å±€æ¨£å¼
â”‚
â”œâ”€â”€ public/                       # éœæ…‹è³‡æº
â”œâ”€â”€ package.json                  # NPM ä¾è³´é…ç½®
â”œâ”€â”€ tsconfig.json                 # TypeScript é…ç½®
â”œâ”€â”€ tailwind.config.js            # Tailwind é…ç½®
â”œâ”€â”€ .env.example                  # å‰ç«¯ç’°å¢ƒè®Šé‡ç¤ºä¾‹
â””â”€â”€ README.md                     # å°ˆæ¡ˆèªªæ˜æ–‡æª”
```

---

## ğŸš€ å®‰è£æ­¥é©Ÿï¼ˆè©³ç›¡ï¼‰

ä¸‹é¢æä¾›é€æ­¥å¯è¤‡è£½çš„å®‰è£èˆ‡å•Ÿå‹•æŒ‡ä»¤ï¼ŒåŒ…å« Windows PowerShellã€Windows cmdï¼Œä»¥åŠ macOS / Linux ç¯„ä¾‹ã€‚

æ³¨æ„ï¼šä»¥ä¸‹æŒ‡ä»¤å‡è¨­ä½ å·²å®‰è£ `git`ã€`node` èˆ‡ `python`ã€‚

1) å…ˆæª¢æŸ¥ç’°å¢ƒï¼ˆå»ºè­°ä½¿ç”¨ä½ å°‡ç”¨ä¾†åŸ·è¡Œå°ˆæ¡ˆçš„åŒä¸€å€‹ `python`ï¼‰

```bash
python --version
where python   # Windows
which python   # macOS / Linux
node --version
npm --version
```

2) å–å¾—å°ˆæ¡ˆ

```bash
git clone <repository-url>
cd fuji_sakura_run
```

3) å®‰è£å‰ç«¯å¥—ä»¶

```bash
npm install
# æˆ–
yarn install
```

4) å»ºç«‹ä¸¦å®‰è£å¾Œç«¯ï¼ˆæ¨è–¦ä½¿ç”¨è™›æ“¬ç’°å¢ƒï¼‰

Windows PowerShellï¼ˆæ¨è–¦ï¼‰
```powershell
cd D:\_Kate\_interview\_2026\fuji_sakura_run\backend
python -m venv venv
.\venv\Scripts\Activate.ps1
python -m pip install --upgrade pip
python -m pip install -r requirements.txt
python -m uvicorn main:app --reload --port 8000
```

å¦‚æœ PowerShell å•Ÿç”¨ venv é‡åˆ° ExecutionPolicy é™åˆ¶ï¼Œå¯å…ˆåŸ·è¡Œï¼š
```powershell
Set-ExecutionPolicy -Scope CurrentUser -ExecutionPolicy RemoteSigned -Force
.\venv\Scripts\Activate.ps1
```

Windows cmd (ä¸æ”¹ ExecutionPolicy æ™‚ä½¿ç”¨)
```cmd
cd D:\_Kate\_interview\_2026\fuji_sakura_run\backend
python -m venv venv
venv\Scripts\activate
python -m pip install --upgrade pip
python -m pip install -r requirements.txt
python -m uvicorn main:app --reload --port 8000
```

5) è¨­å®šå‰å¾Œç«¯ç’°å¢ƒè®Šé‡

å‰ç«¯ï¼š
```bash
cp .env.example .env
# ç·¨è¼¯ .envï¼Œè¨­å®š REACT_APP_API_URL
REACT_APP_API_URL=http://localhost:8000/api
```

å¾Œç«¯ï¼š
```bash
cd backend
cp .env.example .env
# ç·¨è¼¯ backend/.envï¼Œè¨­å®š SECRET_KEY ç­‰
```

6) å•Ÿå‹•å‰ç«¯ï¼ˆåœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„ï¼‰

```bash
npm start
# æˆ–
yarn start
```

å‰ç«¯é è¨­åŸ·è¡Œæ–¼ `http://localhost:3000`ï¼Œå¾Œç«¯ API é è¨­ `http://localhost:8000`ã€‚

7) é©—è­‰å¾Œç«¯æ˜¯å¦å•Ÿå‹•ï¼ˆç€è¦½å™¨ï¼‰

è¨ªå• Swagger UIï¼š `http://localhost:8000/docs`

æ•…éšœæ’æŸ¥ï¼ˆå¸¸è¦‹å•é¡Œï¼‰
- éŒ¯èª¤ `No module named uvicorn`ï¼šè¡¨ç¤ºç•¶å‰ Python ç’°å¢ƒæ²’æœ‰å®‰è£ `uvicorn`ï¼Œè«‹å…ˆå•Ÿç”¨å°æ‡‰ venvï¼Œæˆ–ä»¥ `python -m pip install uvicorn[standard]` å®‰è£åˆ°è©² python ç’°å¢ƒã€‚
- PowerShell ç„¡æ³•å•Ÿç”¨ venvï¼ˆExecutionPolicyï¼‰ï¼šå¯åŸ·è¡Œ `Set-ExecutionPolicy -Scope CurrentUser -ExecutionPolicy RemoteSigned -Force`ï¼Œæˆ–æ”¹ç”¨ cmd å•Ÿç”¨ `venv\Scripts\activate`ã€‚
- è‹¥ `pip install -r requirements.txt` å¤±æ•—ï¼Œè«‹è²¼ä¸Šå®Œæ•´éŒ¯èª¤æ—¥èªŒä»¥ä¾¿å”åŠ©æ’æŸ¥ã€‚

é€²éšï¼šå¦‚éœ€ä¸€æ¬¡æ€§å•Ÿå‹•ï¼ˆWindowsï¼‰ï¼Œå¯ä½¿ç”¨ `start.bat`ï¼›macOS / Linux å¯ä½¿ç”¨ `start.sh`ï¼ˆè«‹å…ˆ `chmod +x start.sh`ï¼‰ã€‚

---

## ğŸ“¡ API æ–‡æª”

### Base URL
```
http://localhost:8000/api
```

### ä¸»è¦ç«¯é»

#### ç”¨æˆ¶ç›¸é—œ
- `POST /users/register` - ç”¨æˆ¶è¨»å†Š
- `POST /users/login` - ç”¨æˆ¶ç™»å…¥
- `GET /users/profile` - ç²å–ç”¨æˆ¶è³‡æ–™

#### è·‘æ­¥è¨˜éŒ„
- `GET /runs?userId={userId}` - ç²å–è·‘æ­¥è¨˜éŒ„
- `POST /runs` - æ–°å¢è·‘æ­¥è¨˜éŒ„
- `DELETE /runs/{runId}` - åˆªé™¤è·‘æ­¥è¨˜éŒ„

#### è©•è«–
- `GET /comments` - ç²å–æ‰€æœ‰è©•è«–
- `POST /comments` - æ–°å¢è©•è«–

#### è·¯ç·š
- `GET /routes` - ç²å–æ‰€æœ‰æ«»èŠ±è·¯ç·š
- `GET /routes/{routeId}` - ç²å–è·¯ç·šè©³æƒ…

#### çµ±è¨ˆ
- `GET /stats/{userId}` - ç²å–ç”¨æˆ¶çµ±è¨ˆæ•¸æ“š

### API æ–‡æª”ï¼ˆSwagger UIï¼‰

å¾Œç«¯å•Ÿå‹•å¾Œï¼Œå¯è¨ªå•è‡ªå‹•ç”Ÿæˆçš„ API æ–‡æª”ï¼š
- Swagger UI: `http://localhost:8000/docs`
- ReDoc: `http://localhost:8000/redoc`

---

## ğŸ’» é–‹ç™¼æŒ‡å—

### å‰ç«¯é–‹ç™¼

#### æ–°å¢å…ƒä»¶
1. åœ¨ `src/components/components/` ä¸‹å‰µå»ºå…ƒä»¶æ–‡ä»¶
2. ä½¿ç”¨ TypeScript å®šç¾© Props
3. åœ¨ `src/types/index.ts` ä¸­æ·»åŠ ç›¸é—œé¡å‹

#### ç‹€æ…‹ç®¡ç†
é …ç›®ä½¿ç”¨ React Context APIï¼š
- `UserContext` - ç”¨æˆ¶ç™»å…¥ç‹€æ…‹
- `RunContext` - è·‘æ­¥è¨˜éŒ„ç®¡ç†
- `CommunityContext` - ç¤¾ç¾¤äº’å‹•

#### èª¿ç”¨ API
ä½¿ç”¨ `src/services/api.ts` ä¸­å°è£çš„æ–¹æ³•ï¼š

```typescript
import { api } from '../services/api';

// ç²å–è©•è«–
const comments = await api.comments.getAll();

// æ–°å¢è·‘æ­¥è¨˜éŒ„
const newRun = await api.runs.create(runData, token);
```

### å¾Œç«¯é–‹ç™¼

#### æ–°å¢ API ç«¯é»
1. åœ¨ `backend/models.py` å®šç¾© Pydantic æ¨¡å‹
2. åœ¨ `backend/database.py` å¯¦ç¾æ•¸æ“šæ“ä½œ
3. åœ¨ `backend/main.py` æ·»åŠ è·¯ç”±è™•ç†

#### æ•¸æ“šé©—è­‰
ä½¿ç”¨ Pydantic è‡ªå‹•é©—è­‰ï¼š

```python
from models import RunRecordCreate

@app.post("/api/runs")
async def create_run(run_data: RunRecordCreate):
    # Pydantic è‡ªå‹•é©—è­‰ run_data
    return create_run(run_data)
```

---

## ğŸ“¦ éƒ¨ç½²

### å‰ç«¯éƒ¨ç½²

#### Build ç”Ÿç”¢ç‰ˆæœ¬
```bash
npm run build
```

ç”Ÿæˆçš„æ–‡ä»¶åœ¨ `build/` ç›®éŒ„ï¼Œå¯éƒ¨ç½²è‡³ï¼š
- **Vercel**
- **Netlify**
- **GitHub Pages**
- **Firebase Hosting**

### å¾Œç«¯éƒ¨ç½²

#### ä½¿ç”¨ Docker
```bash
cd backend
docker build -t fuji-sakura-api .
docker run -p 8000:8000 fuji-sakura-api
```

#### éƒ¨ç½²å¹³å°
- **Heroku**
- **AWS EC2**
- **Google Cloud Run**
- **Railway**

---

## ğŸ§ª æ¸¬è©¦

### å‰ç«¯æ¸¬è©¦
```bash
npm test
```

### å¾Œç«¯æ¸¬è©¦
```bash
cd backend
pytest
```

---

## ğŸ”’ å®‰å…¨æ€§

- âœ… å¯†ç¢¼ä½¿ç”¨ SHA-256 å“ˆå¸ŒåŠ å¯†
- âœ… CORS è¨­ç½®é™åˆ¶è·¨åŸŸè«‹æ±‚
- âœ… ç’°å¢ƒè®Šé‡ç®¡ç†æ•æ„Ÿä¿¡æ¯
- âš ï¸ JWT èªè­‰ï¼ˆéœ€å®Œå–„ï¼‰
- âš ï¸ HTTPS éƒ¨ç½²ï¼ˆç”Ÿç”¢ç’°å¢ƒå¿…é ˆï¼‰

---

## ğŸ“ å¾…è¾¦äº‹é …

- [ ] å®Œå–„ JWT èªè­‰æ©Ÿåˆ¶
- [ ] æ•´åˆçœŸå¯¦è³‡æ–™åº«ï¼ˆPostgreSQLï¼‰
- [ ] æ·»åŠ åœ–ç‰‡ä¸Šå‚³åŠŸèƒ½
- [ ] GPS è¿½è¹¤å¯¦æ™‚åŒæ­¥
- [ ] ç¤¾ç¾¤åŠŸèƒ½å¢å¼·ï¼ˆæŒ‰è®šã€åˆ†äº«ï¼‰
- [ ] å®Œæ•´å–®å…ƒæ¸¬è©¦
- [ ] å¤šèªè¨€æ”¯æŒï¼ˆi18nï¼‰
- [ ] PWA æ”¯æŒ

---

## ğŸ¤ è²¢ç»æŒ‡å—

æ­¡è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬å°ˆæ¡ˆ
2. å‰µå»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. é–‹å•Ÿ Pull Request

---

## ğŸ“„ æˆæ¬Š

æœ¬å°ˆæ¡ˆæ¡ç”¨ MIT æˆæ¬Š - è©³è¦‹ [LICENSE](LICENSE) æ–‡ä»¶

---

## ğŸ‘¥ ä½œè€…

**Kate** - *Initial work*

---

## ğŸ™ è‡´è¬

- [React](https://reactjs.org/)
- [FastAPI](https://fastapi.tiangolo.com/)
- [Tailwind CSS](https://tailwindcss.com/)
- [Lucide Icons](https://lucide.dev/)
- [Unsplash](https://unsplash.com/) - æ«»èŠ±åœ–ç‰‡ç´ æ

---

<div align="center">
  <p>ğŸŒ¸ Made with â¤ï¸ for runners and sakura lovers ğŸŒ¸</p>
  <p>Â© 2026 Fuji Sakura Run Project</p>
</div>

